##8-2 MySQL存储过程简介

SQL命令-->MySQL引擎(分析)-->语法正确--->可识别命令(执行)--->执行结果(返回)--->客户端

###存储过程

存储过程是SQL语句和控制语句的预编译集合，以一个名称存储并作为一个单元处理

###存储过程的优点

- 1.增强SQL语句的功能和灵活性
- 2.实现较快的执行速度
- 3.减少网络流量

##8-3存储过程语法结构解析

###创建存储过程

    CREATE

    [DEFINER={user|CURRENT_USER}]

    PROCEDURE sp_name ([proc_parameter[,...]])

    [characteristic ...] routine_body

    proc_parameter:

    [IN|OUT|INOUT] param_name type


参数:

- 1.IN,表示该参数的值必须在调用存储过程时指定
- 2.OUT,表示该参数的值可以被存储过程改变，并且可以返回
- 3.INOUT,表示该参数的调用时指定，并且可以被改变和返回

过程体:

- 1.过程体由合法的SQL语句构成
- 2.过程体可以是任何SQL语句
- 3.过程体如果为复合结构则使用BEGIN...END语句
- 4.复合结构可以包含声明，循环，控制结构

##8-4创建不带参数的存储过程

创建一个存储过程:

`([proc_parameter[,...]])`小括号必带

    CREATE PROCEDURE sp1() SELECT VERSION();

###调用存储过程

存储过程如果没有参数，()可以省略也可以不省略，如果包含参数，则()不能省略

- 1.CALL sp_name([parameter[,...]])
- 2.CALL sp_name[()]

调用

    CALL sp1();或者CALL sp1;