8.1.2 三大原则

Redux应用需要遵循三大原则，否则程序很容易出现难以察觉的问题。

1.唯一数据源

Redux应用只维护一个全局的状态对象，存储在Redux的store中。唯一数据源是一种集中式管理应用状态的方式，便于监控任意时刻应用的状态和调试应用，减少出错的可能性。

2.保持应用状态只读

在任何时候都不能直接修改应用状态。当需要修改应用状态时，必须发送一个action，由这个action描述如何修改应用状态。这一看似繁琐的修改状态的方式实际上是Redux状态管理流程的核心，保证了在大量复杂应用中状态管理的有序进行。

3.应用状态的改变通过纯函数完成

action表明修改应用状态的意图，真正对应用状态做修改的是reducer。reducer必须是纯函数，所以reducer在接收到action时，不能直接修改原来的状态对象，而是要创建一个新的状态对象返回。

纯函数是指满足以下两个条件的函数:

1)对于同样的参数值，函数的返回结果总是相同的，即该函数结果不依赖任何在程序执行过程中可能改变的变量。

2)函数的执行不会产生副作用。例如修改外部对象或输出到I/O设备。

8.2 主要组成

通过前面的介绍可以发现Redux应用的主要组成有action，redux和store。

8.2.1 action

action是Redux中信息的载体，是store唯一的信息来源。把action发送给store必须通过store的dispath方法。action是普通的JavaScript对象，但每个action必须有一个type属性描述action的类型，type一般被定义为字符串常量。除了type属性外，action的结构完全由自己决定，但应该确保action的结构能清晰地描述实际业务场景。一般通过action creator创建action，action creator是返回action函数。例如，下面是一个新增代办事项的action creator

	function addTodo(text){
	    return {
	        type:'ADD_TODO',
	        text
	    }
	}