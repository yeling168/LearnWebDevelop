6.1 基本概念

在JavaScript中，高阶函数是以函数为参数，并且返回值也是函数的函数。类似的，高阶组件(HOC)接收React组件作为参数，并且返回一个新的React组件。高阶组件本质上也是一个函数，并不是一个组件。高阶组件的函数形式如下:

    const EnhancedComponent=higherOrderCompont(WrappedComponent)

我们先通过一个简单的例子看一下高阶组件是如何进行逻辑复用的。现在有一个组件MyComponent，需要从LocalStorage中获取数据，然后渲染大截面。一般情况下，我们这么实现。

通过`{...this.props}`把传递给当前组件的属性传递给被包装的组件

高阶组件的主要功能是封装井分离组件的通用逻辑，让通用逻辑在组
件间更好地被复用。高阶组件的这种实现方式本质上是装饰者设计模式。

6.2使用场景

高阶组件的使用场景主要有以下四种：

1）操纵props

2）通过ref访问组件实例

3)组件状态提升

4)用其他元素包装组件

1.操纵props

在被包装组件接收props前，高阶组件可以先拦截到props，对props执行增加，删除或修改的操作，然后将处理后的props再传递给被包装组件。

2.通过ref访问组件实例

高阶组件通过ref获取被包装组件实例的引用，然后高阶组件就具备了直接操作被包装组件的属性或方法的能力。

3.组件状态提升

无状态组件更容易被复用。高阶组件可以通过将被包装组件的状态及相应的状态处理方法提升到高阶组件自身内部实现被包装组件的无状态化。一个典型的场景是，利用高阶组件将原本受控组件需要自己维护的状态提升到高阶组件中。